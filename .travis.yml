language: python
services:
  - docker
python:
  - '3.6'
  - '3.7'
  - '3.8'
before_install:
  - docker pull wgxli/simplefhe-build
  - docker run -it -d --name build wgxli/simplefhe-build bash
install:
  - docker exec build pip install coveralls coverage
script:
  - docker exec build coverage run --branch -m unittest discover tests
after_success:
  - docker exec build coveralls
